<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>KANJIMINE QUEST – ホーム</title>

  <!-- 共通スタイル -->
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/minecraft-font.css">
  <style>
    /* 追加スタイル（最小限） */
    .score-badge-wrap{
      position:fixed; top:10px; right:10px;
      display:flex; flex-direction:column; align-items:flex-end; gap:6px;
      z-index:50;
    }
    #resetScoreBtn{
      font-family:inherit;
      background:#43a047;
      color:#fff;
      border:2px solid #fff;
      padding:4px 10px;
      font-size:12px;
      cursor:pointer;
      border-radius:6px;
      box-shadow:0 0 4px rgba(0,0,0,.5);
      transition:background .2s, transform .1s;
    }
    #resetScoreBtn:hover{ background:#388e3c; }
    #resetScoreBtn:active{ transform:translateY(2px); }
    #conversionMsg{
      position:fixed;
      left:50%; bottom:30px;
      transform:translateX(-50%);
      background:rgba(0,0,0,.75);
      color:#fff;
      padding:14px 22px;
      border:2px solid #fff;
      border-radius:12px;
      font-size:14px;
      line-height:1.5;
      max-width:90%;
      text-align:center;
      z-index:60;
      opacity:0;
      pointer-events:none;
      transition:opacity .4s;
      font-family:"Minecraft", "Noto Sans JP", sans-serif;
    }
    #conversionMsg.show{ opacity:1; }
    @media (max-width:640px){
      .score-badge-wrap{ right:6px; top:6px; }
      #resetScoreBtn{ font-size:11px; padding:4px 8px; }
    }
  </style>
</head>
<body>
  
  <!-- 背景動画 -->
  <video id="bgVideo" class="video-bg"
         src="media/bg.mp4"
         muted playsinline loop autoplay></video>

  <!-- スコア表示 + リセットボタン -->
  <div class="score-badge-wrap">
    <div class="score-badge">総得点：<span id="totalScore">0</span></div>
    <button id="resetScoreBtn" type="button">時間にへんかんする</button>
  </div>

  <!-- 中央メニュー -->
  <div class="home-menu">
    <h1 class="mc-title">KANJIMINE QUEST</h1>
    <div>
      <a href="test.html" class="btn">▶ 漢字読解テストへ</a>
      <a href="score.html" class="btn">▶ スコアシート</a>
      <a href="archive.html" class="btn">▶ アーカイブ</a>
    </div>
  </div>

  <!-- 変換メッセージ表示領域 -->
  <div id="conversionMsg" aria-live="polite"></div>

  <!-- JS -->
  <script type="module" src="js/home.js"></script>

  <!-- 背景動画再生保証 -->
  <script type="module">
    import './js/home.js';
    const bgVid = document.getElementById('bgVideo');
    function tryPlay(){
      const p = bgVid.play();
      if(p) p.catch(()=>{});
    }
    tryPlay();
    document.addEventListener('click', tryPlay, { once:true });
  </script>
</body>
</html>
